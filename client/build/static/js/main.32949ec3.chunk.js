(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,a,t){e.exports=t(60)},60:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(29),r=t.n(o),c=t(8),s=t(6),i=t(30),m=t(11),u=t(12),v=t(14),d=t(13),h=t(15),b=t(10),E=t.n(b),k={searchBooks:function(e){return E.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e))},saveBook:function(e){return E.a.post("/api/books",e)},getSavedBooks:function(){return E.a.get("/api/books")},deleteBook:function(e){return E.a.delete("/api/books/".concat(e))}};var p=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement(c.b,{to:"/",className:"navbar-brand"},"\ud83d\udcda Google Books"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup"},l.a.createElement("div",{className:"navbar-nav"},l.a.createElement(c.b,{to:"/",className:"/"===window.location.pathname?"nav-item nav-link active":"nav-item nav-link"},"Search"),l.a.createElement(c.b,{to:"/saved",className:"/saved"===window.location.pathname?"nav-item nav-link active":"nav-item nav-link"},"Saved")))))};var f=function(e){return l.a.createElement("div",{className:"container"},e.children)};var g=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 text-center"},e.children)),l.a.createElement("hr",null),l.a.createElement("br",null))};var B=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"card"},l.a.createElement("h4",{className:"card-header"},"Book Search"),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"book-input"},"Enter a book to search:"),l.a.createElement("input",{type:"text",className:"form-control",id:"book-input",name:e.name,value:e.value,onChange:e.onChange})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",id:"book-search",onClick:e.onClick},"Submit")))))),l.a.createElement("br",null))};var N=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},e.children)))};var y=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h4",null,l.a.createElement("a",{href:e.link},e.title),l.a.createElement("button",{className:"Save Book"===e.buttonType?"btn btn-success float-right":"btn btn-danger float-right","data-id":e.id,onClick:function(){return e.buttonClick(e.id)}},e.buttonType)),l.a.createElement("p",null,"Written By: ",e.authors.join(", "))),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-2 text-center"},l.a.createElement("img",{alt:e.title,src:e.image})),l.a.createElement("div",{className:"col-10"},l.a.createElement("p",null,e.description))))),l.a.createElement("br",null))},w=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(v.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={searchResults:[],searchTerm:""},t.handleInputChange=function(e){var a=e.target,n=a.name,l=a.value;t.setState(Object(i.a)({},n,l))},t.handleFormSubmit=function(e){e.preventDefault(),k.searchBooks(t.state.searchTerm).then(function(e){t.setState({searchResults:e.data.items})}).catch(function(e){return console.log(e)})},t.saveBook=function(e){var a=t.state.searchResults[e];k.saveBook({title:a.volumeInfo.title,authors:a.volumeInfo.authors,link:a.volumeInfo.canonicalVolumeLink,description:a.volumeInfo.description,image:a.volumeInfo.imageLinks.thumbnail}).then(function(e){alert("Book has been successfully saved!")}).catch(function(e){console.log(e),alert("Book has already been saved!")})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p,null),l.a.createElement(f,null,l.a.createElement(g,null,l.a.createElement("h1",null,"\ud83d\udcda Google Books Search"),l.a.createElement("h3",null,"Search For and Save Books of Interest")),l.a.createElement(B,{name:"searchTerm",value:this.state.searchTerm,onChange:this.handleInputChange,onClick:this.handleFormSubmit}),l.a.createElement(N,null,this.state.searchResults.map(function(a,t){return l.a.createElement(y,{id:t,key:t,title:a.volumeInfo.title,authors:a.volumeInfo.authors,link:a.volumeInfo.canonicalVolumeLink,description:a.volumeInfo.description,image:a.volumeInfo.imageLinks.thumbnail,buttonClick:e.saveBook,buttonType:"Save Book"})}))))}}]),a}(n.Component),S=function(e){function a(){var e,t;Object(m.a)(this,a);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return(t=Object(v.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(l)))).state={savedBooks:[]},t.loadBooks=function(){k.getSavedBooks().then(function(e){t.setState({savedBooks:e.data})}).catch(function(e){return console.log(e)})},t.deleteBook=function(e){k.deleteBook(e).then(function(e){return t.loadBooks()}).catch(function(e){return console.log(e)})},t}return Object(h.a)(a,e),Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadBooks()}},{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(p,null),l.a.createElement(f,null,l.a.createElement(g,null,l.a.createElement("h1",null,"\ud83d\udcda Google Books Search"),l.a.createElement("h3",null,"View Saved Books of Interest")),l.a.createElement(N,null,this.state.savedBooks.map(function(a){return l.a.createElement(y,{id:a._id,key:a._id,title:a.title,authors:a.authors,link:a.link,description:a.description,image:a.image,buttonClick:e.deleteBook,buttonType:"Delete Book"})}))))}}]),a}(n.Component);var I=function(){return l.a.createElement(c.a,null,l.a.createElement("div",null,l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:"/",component:w}),l.a.createElement(s.a,{exact:!0,path:"/saved",component:S}))))};r.a.render(l.a.createElement(I,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.32949ec3.chunk.js.map